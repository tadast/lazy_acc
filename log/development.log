# Logfile created on Sat Apr 10 13:33:57 +0300 2010

Processing UserSessionsController#new (for 127.0.0.1 at 2010-04-10 13:34:12) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}

ActiveRecord::StatementInvalid (Could not find table 'sessions'):
  authlogic (2.1.3) lib/authlogic/session/session.rb:48:in `session_credentials'
  authlogic (2.1.3) lib/authlogic/session/session.rb:33:in `persist_by_session'
  authlogic (2.1.3) lib/authlogic/session/callbacks.rb:79:in `persist'
  authlogic (2.1.3) lib/authlogic/session/persistence.rb:55:in `persisting?'
  authlogic (2.1.3) lib/authlogic/session/persistence.rb:39:in `find'
  app/controllers/application_controller.rb:12:in `current_user_session'
  app/controllers/application_controller.rb:17:in `current_user'
  app/controllers/application_controller.rb:30:in `require_no_user'

Rendered rescues/_trace (56.2ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (36.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20081103171327)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "login" varchar(255) NOT NULL, "crypted_password" varchar(255) NOT NULL, "password_salt" varchar(255) NOT NULL, "persistence_token" varchar(255) NOT NULL, "login_count" integer DEFAULT 0 NOT NULL, "last_request_at" datetime, "last_login_at" datetime, "current_login_at" datetime, "last_login_ip" varchar(255), "current_login_ip" varchar(255)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_users_on_persistence_token" ON "users" ("persistence_token")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_users_on_last_request_at" ON "users" ("last_request_at")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081103171327')[0m
Migrating to CreateSessions (20081106072031)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "sessions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "session_id" varchar(255) NOT NULL, "data" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCREATE INDEX "index_sessions_on_updated_at" ON "sessions" ("updated_at")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081106072031')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("sessions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2010-04-10 13:34:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE (last_request_at > '2010-04-10 10:24:43') [0m
Completed in 204ms (View: 182, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-04-10 13:34:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.5ms)
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE (last_request_at > '2010-04-10 10:24:51') [0m
Completed in 204ms (View: 22, DB: 1) | 200 OK [http://localhost/account/new]


Processing UsersController#create (for 127.0.0.1 at 2010-04-10 13:35:01) [POST]
  Parameters: {"commit"=>"Register", "action"=>"create", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"medis"}}
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = 'medis') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '134bf5abd2a2b22925d5f918227c901faf3deaa6f0906e4a04e6987fc5d3178eb6a6b11f579f11c4af4877bd3d48f376c4f6fb3d2bde80c5d89b86e308524a83') LIMIT 1[0m
  [4;36;1mUser Create (1.4ms)[0m   [0;1mINSERT INTO "users" ("created_at", "last_request_at", "crypted_password", "updated_at", "current_login_ip", "password_salt", "current_login_at", "persistence_token", "login_count", "last_login_ip", "login", "last_login_at") VALUES('2010-04-10 10:35:01', '2010-04-10 10:35:01', 'c44cfbef2b512b15a88a5a281b91b367782e147d104157764de4e7e3e27accbc7f44b9d898f4d17d81d73d5ffa1e081f3f87c5eb51e7eedd2b526dbc683e3655', '2010-04-10 10:35:01', '127.0.0.1', 'hGafSKdbNrJZ1BCH15rK', '2010-04-10 10:35:01', '134bf5abd2a2b22925d5f918227c901faf3deaa6f0906e4a04e6987fc5d3178eb6a6b11f579f11c4af4877bd3d48f376c4f6fb3d2bde80c5d89b86e308524a83', 1, NULL, 'medis', NULL)[0m
Redirected to http://localhost:3000/account
Completed in 332ms (DB: 3) | 302 Found [http://localhost/account]


Processing UsersController#show (for 127.0.0.1 at 2010-04-10 13:35:01) [GET]
  Parameters: {"action"=>"show", "controller"=>"users"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '134bf5abd2a2b22925d5f918227c901faf3deaa6f0906e4a04e6987fc5d3178eb6a6b11f579f11c4af4877bd3d48f376c4f6fb3d2bde80c5d89b86e308524a83') LIMIT 1[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 10:35:01', "last_request_at" = '2010-04-10 10:35:01' WHERE "id" = 1[0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE (last_request_at > '2010-04-10 10:25:01') [0m
Completed in 133ms (View: 8, DB: 2) | 200 OK [http://localhost/account]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-04-10 13:35:11) [DELETE]
  Parameters: {"action"=>"destroy", "_method"=>"delete", "controller"=>"user_sessions"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '134bf5abd2a2b22925d5f918227c901faf3deaa6f0906e4a04e6987fc5d3178eb6a6b11f579f11c4af4877bd3d48f376c4f6fb3d2bde80c5d89b86e308524a83') LIMIT 1[0m
  [4;35;1mUser Update (34.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 10:35:11', "last_request_at" = '2010-04-10 10:35:11' WHERE "id" = 1[0m
Redirected to http://localhost:3000/user_session/new
Completed in 279ms (DB: 36) | 302 Found [http://localhost/user_session]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-04-10 13:35:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE (last_request_at > '2010-04-10 10:25:11') [0m
Completed in 27ms (View: 6, DB: 1) | 200 OK [http://localhost/user_session/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-04-10 13:37:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE (last_request_at > '2010-04-10 10:27:03') [0m
Completed in 198ms (View: 163, DB: 1) | 200 OK [http://localhost/user_session/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2010-04-10 13:37:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 192ms (View: 14, DB: 1) | 200 OK [http://localhost/user_session/new]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20081103171327)
Migrating to CreateSessions (20081106072031)
Migrating to CreateBuckets (20100410104231)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "buckets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "user_id" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410104231')[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("buckets")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mPRAGMA index_list("sessions")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBuckets (20100410104231)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "buckets"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100410104231'[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("sessions")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20081103171327)
Migrating to CreateSessions (20081106072031)
Migrating to CreateBuckets (20100410104231)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "buckets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410104231')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("buckets")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("sessions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20081103171327)
Migrating to CreateSessions (20081106072031)
Migrating to CreateBuckets (20100410104231)
Migrating to CreateBudgets (20100410105134)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "budgets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer, "bucket_id" integer, "valid_from" date, "valid_to" date, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410105134')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("buckets")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("budgets")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("sessions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20081103171327)
Migrating to CreateSessions (20081106072031)
Migrating to CreateBuckets (20100410104231)
Migrating to CreateBudgets (20100410105134)
Migrating to CreateBills (20100410105552)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "bills" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "bucket_id" integer, "title" varchar(255), "description" text, "amount" integer, "start_date" datetime, "end_date" datetime, "periodicity" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410105552')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("bills")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("buckets")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("budgets")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("sessions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#new (for 127.0.0.1 at 2010-04-10 14:49:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (1.6ms)
Completed in 31ms (View: 12, DB: 0) | 200 OK [http://localhost/account/new]


Processing UsersController#create (for 127.0.0.1 at 2010-04-10 14:49:28) [POST]
  Parameters: {"commit"=>"Register", "action"=>"create", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"ponas"}}
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = 'ponas') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '86ff325e4c1a95612753da79587303bc67124cd87a04fdfab99b11fdaba9adf3ee8f582acc3cad989820311ca11e918e5d5e62e12bf7e48c9db6da19ef6b1a0b') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO "users" ("created_at", "last_request_at", "crypted_password", "updated_at", "current_login_ip", "password_salt", "current_login_at", "persistence_token", "login_count", "last_login_ip", "login", "last_login_at") VALUES('2010-04-10 11:49:28', '2010-04-10 11:49:28', '8832cc1e90fc5e01a40a049f69a3583a807c8e2f777a158e0b7ef2ade3b2d5fbbd7a7bcbc9072d28ba9685d6066c2d49df9915492ccbeabc5d4aeb5ad541d172', '2010-04-10 11:49:28', '127.0.0.1', 'ZXGLByLKROPP9EQMc1I4', '2010-04-10 11:49:28', '86ff325e4c1a95612753da79587303bc67124cd87a04fdfab99b11fdaba9adf3ee8f582acc3cad989820311ca11e918e5d5e62e12bf7e48c9db6da19ef6b1a0b', 1, NULL, 'ponas', NULL)[0m

TypeError (can't dup Symbol):
  app/models/user.rb:9:in `create_template_buckets'
  app/models/user.rb:8:in `each'
  app/models/user.rb:8:in `create_template_buckets'
  app/controllers/users_controller.rb:11:in `create'

Rendered rescues/_trace (195.7ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBucket Load (0.5ms)[0m   [0;1mSELECT * FROM "buckets" WHERE ("buckets".user_id = 1) [0m


Processing UsersController#create (for 127.0.0.1 at 2010-04-10 14:51:18) [POST]
  Parameters: {"commit"=>"Register", "action"=>"create", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"ponas"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '86ff325e4c1a95612753da79587303bc67124cd87a04fdfab99b11fdaba9adf3ee8f582acc3cad989820311ca11e918e5d5e62e12bf7e48c9db6da19ef6b1a0b') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '86ff325e4c1a95612753da79587303bc67124cd87a04fdfab99b11fdaba9adf3ee8f582acc3cad989820311ca11e918e5d5e62e12bf7e48c9db6da19ef6b1a0b') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = 'ponas') LIMIT 1[0m
  [4;35;1mUser Exists (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'd76fd26411f6a44fc6e995ffcbb9e8041da40c9fd5a85eaf7fc3a64ece3ef4a9ae35d5e77ca4e9dd7eaa404bf69f95187f6ca282f527b3f81d42cf812982d239') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '86ff325e4c1a95612753da79587303bc67124cd87a04fdfab99b11fdaba9adf3ee8f582acc3cad989820311ca11e918e5d5e62e12bf7e48c9db6da19ef6b1a0b') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '86ff325e4c1a95612753da79587303bc67124cd87a04fdfab99b11fdaba9adf3ee8f582acc3cad989820311ca11e918e5d5e62e12bf7e48c9db6da19ef6b1a0b') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO "users" ("created_at", "last_request_at", "crypted_password", "updated_at", "current_login_ip", "password_salt", "current_login_at", "persistence_token", "login_count", "last_login_ip", "login", "last_login_at") VALUES('2010-04-10 11:51:19', '2010-04-10 11:51:19', '3ebe927bf4e94e10027e20214f7d95d5b728434fe0159d80240f921ddaa3298c906cbb47366fe4a8205ea499818e7cce5bde3ed610f6520bb944a9499ab118c8', '2010-04-10 11:51:19', '127.0.0.1', 'aJEaTKWNJX7EHPipJT3H', '2010-04-10 11:51:19', 'd76fd26411f6a44fc6e995ffcbb9e8041da40c9fd5a85eaf7fc3a64ece3ef4a9ae35d5e77ca4e9dd7eaa404bf69f95187f6ca282f527b3f81d42cf812982d239', 1, NULL, 'ponas', NULL)[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."login") = 'ponas' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'd76fd26411f6a44fc6e995ffcbb9e8041da40c9fd5a85eaf7fc3a64ece3ef4a9ae35d5e77ca4e9dd7eaa404bf69f95187f6ca282f527b3f81d42cf812982d239' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '86ff325e4c1a95612753da79587303bc67124cd87a04fdfab99b11fdaba9adf3ee8f582acc3cad989820311ca11e918e5d5e62e12bf7e48c9db6da19ef6b1a0b') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'd76fd26411f6a44fc6e995ffcbb9e8041da40c9fd5a85eaf7fc3a64ece3ef4a9ae35d5e77ca4e9dd7eaa404bf69f95187f6ca282f527b3f81d42cf812982d239') LIMIT 1[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "login_count" = 2, "persistence_token" = 'd76fd26411f6a44fc6e995ffcbb9e8041da40c9fd5a85eaf7fc3a64ece3ef4a9ae35d5e77ca4e9dd7eaa404bf69f95187f6ca282f527b3f81d42cf812982d239', "current_login_ip" = '127.0.0.1', "updated_at" = '2010-04-10 11:51:19', "created_at" = '2010-04-10 11:51:19', "login" = 'ponas', "last_request_at" = '2010-04-10 11:51:19', "last_login_at" = '2010-04-10 11:51:19', "last_login_ip" = '127.0.0.1', "current_login_at" = '2010-04-10 11:51:19', "password_salt" = 'aJEaTKWNJX7EHPipJT3H', "crypted_password" = '3ebe927bf4e94e10027e20214f7d95d5b728434fe0159d80240f921ddaa3298c906cbb47366fe4a8205ea499818e7cce5bde3ed610f6520bb944a9499ab118c8' WHERE "id" = 2[0m
  [4;36;1mBucket Create (0.3ms)[0m   [0;1mINSERT INTO "buckets" ("created_at", "title", "updated_at", "user_id", "description") VALUES('2010-04-10 11:51:19', 'Kūnas', '2010-04-10 11:51:19', 2, 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.')[0m
  [4;35;1mBucket Create (0.7ms)[0m   [0mINSERT INTO "buckets" ("created_at", "title", "updated_at", "user_id", "description") VALUES('2010-04-10 11:51:19', 'Išorė', '2010-04-10 11:51:19', 2, 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.')[0m
  [4;36;1mBucket Create (0.3ms)[0m   [0;1mINSERT INTO "buckets" ("created_at", "title", "updated_at", "user_id", "description") VALUES('2010-04-10 11:51:19', 'Finansai', '2010-04-10 11:51:19', 2, 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.')[0m
  [4;35;1mBucket Create (0.2ms)[0m   [0mINSERT INTO "buckets" ("created_at", "title", "updated_at", "user_id", "description") VALUES('2010-04-10 11:51:19', 'Aplinka', '2010-04-10 11:51:19', 2, 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.')[0m
  [4;36;1mBucket Create (0.2ms)[0m   [0;1mINSERT INTO "buckets" ("created_at", "title", "updated_at", "user_id", "description") VALUES('2010-04-10 11:51:19', 'Protas', '2010-04-10 11:51:19', 2, 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.')[0m
Redirected to http://localhost:3000/account
Completed in 116ms (DB: 7) | 302 Found [http://localhost/account]


Processing UsersController#show (for 127.0.0.1 at 2010-04-10 14:51:19) [GET]
  Parameters: {"action"=>"show", "controller"=>"users"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (1.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 11:51:19', "last_request_at" = '2010-04-10 11:51:19' WHERE "id" = 2[0m
Rendering template within layouts/application
Rendering users/show
Completed in 49ms (View: 9, DB: 3) | 200 OK [http://localhost/account]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBucket Load (1.7ms)[0m   [0;1mSELECT * FROM "buckets" WHERE ("buckets".user_id = 2) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "buckets" WHERE ("buckets".user_id = 2) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBucket Load (1.6ms)[0m   [0;1mSELECT * FROM "buckets" WHERE ("buckets".user_id = 2) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mBudget Load (0.6ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => NULL AND budget.valid_to <= NULL) AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => '2010-04-10 15:16:00' AND budget.valid_to <= '2010-04-10 15:16:00') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => '2010-04-10 15:16:04' AND budget.valid_to <= '2010-04-10 15:16:04') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => '2010-04-10 15:17:04' AND budget.valid_to <= '2010-04-10 15:17:04') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => ''2010-04-10 15:17:08'' AND budget.valid_to <= ''2010-04-10 15:17:08'') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => ''2010-04-10 15:17:35'' AND budget.valid_to <= ''2010-04-10 15:17:35'') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => ''2010-04-10 15:17:39','2010-04-10 15:17:39'' AND budget.valid_to <= ''2010-04-10 15:17:39','2010-04-10 15:17:39'') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => ''2010-04-10'' AND budget.valid_to <= ''2010-04-10'') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => `'2010-04-10'` AND budget.valid_to <= `'2010-04-10'`) AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near ">": syntax error: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from => '2010-04-10' AND budget.valid_to <= '2010-04-10') AND (("buckets".user_id = 2))) [0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: budget.valid_to: SELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budget.valid_from >= '2010-04-10' AND budget.valid_to <= '2010-04-10') AND (("buckets".user_id = 2))) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mBudget Load (0.6ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-10' AND budgets.valid_to <= '2010-04-10') AND (("buckets".user_id = 2))) [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mBudget Load (0.6ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= NULL AND budgets.valid_to <= NULL) AND (("buckets".user_id = 2))) [0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mBudget Load (0.5ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20081103171327)
Migrating to CreateSessions (20081106072031)
Migrating to CreateBuckets (20100410104231)
Migrating to CreateBudgets (20100410105134)
Migrating to CreateBills (20100410105552)
Migrating to CreateTransactions (20100410105646)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "transactions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "bucket_id" integer, "title" varchar(255), "description" text, "amount" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410105646')[0m
Migrating to AddCreditDebetToBucket (20100410123521)
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "buckets" ADD "credit_debet" integer DEFAULT -1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410123521')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("bills")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("buckets")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("budgets")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("sessions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;35;1mBucket Load (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT * FROM "buckets" [0m
  [4;36;1mBucket Load (4.3ms)[0m   [0;1mSELECT * FROM "buckets" [0m


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:38:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (2.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 12:38:12', "last_request_at" = '2010-04-10 12:38:12' WHERE "id" = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:7:in `index'

Rendered rescues/_trace (47.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mBudget Load (0.6ms)[0m   [0;1mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:39:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:39:41', "last_request_at" = '2010-04-10 12:39:41' WHERE "id" = 2[0m

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:8:in `index'

Rendered rescues/_trace (208.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:40:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:40:02', "last_request_at" = '2010-04-10 12:40:02' WHERE "id" = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:7:in `index'

Rendered rescues/_trace (49.6ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:40:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:40:26', "last_request_at" = '2010-04-10 12:40:26' WHERE "id" = 2[0m
  [4;36;1mBudget Load (0.4ms)[0m   [0;1mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;35;1mBucket Load (1.9ms)[0m   [0mSELECT * FROM "buckets" WHERE ("buckets".user_id = 2) [0m
Rendering template within layouts/application
Rendering budgets/index

ActionView::TemplateError (undefined method `amount' for #<Bucket:0x247aed0>) on line #13 of app/views/budgets/index.html.erb:
10: 
11: <% @budgets.each do |budget| %>
12:   <tr>
13:     <td><%=h budget.amount %></td>
14:     <td><%=h budget.bucket_id %></td>
15:     <td><%=h budget.valid_from %></td>
16:     <td><%=h budget.valid_to %></td>

    app/views/budgets/index.html.erb:13
    app/views/budgets/index.html.erb:11:in `each'
    app/views/budgets/index.html.erb:11
    app/controllers/budgets_controller.rb:11:in `index'

Rendered rescues/_trace (273.2ms)
Rendered rescues/_request_and_response (4.2ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:42:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:42:11', "last_request_at" = '2010-04-10 12:42:11' WHERE "id" = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (79.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:42:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 12:42:31', "last_request_at" = '2010-04-10 12:42:31' WHERE "id" = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (95.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:42:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:42:45', "last_request_at" = '2010-04-10 12:42:45' WHERE "id" = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (142.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20081103171327)
Migrating to CreateSessions (20081106072031)
Migrating to CreateBuckets (20100410104231)
Migrating to CreateBudgets (20100410105134)
Migrating to CreateBills (20100410105552)
Migrating to CreateTransactions (20100410105646)
Migrating to AddBillIdToTransaction (20100410122035)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "transactions" ADD "bill_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410122035')[0m
Migrating to AddStatusToTransactions (20100410122602)
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "transactions" ADD "status" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100410122602')[0m
Migrating to AddCreditDebetToBucket (20100410123521)
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("bills")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("buckets")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("budgets")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("sessions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_sessions_on_updated_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_sessions_on_session_id')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("transactions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_last_request_at')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_info('index_users_on_persistence_token')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:44:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (1.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 12:44:51', "last_request_at" = '2010-04-10 12:44:51' WHERE "id" = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (63.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:44:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:44:53', "last_request_at" = '2010-04-10 12:44:53' WHERE "id" = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (304.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:45:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (1.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 12:45:20', "last_request_at" = '2010-04-10 12:45:20' WHERE "id" = 2[0m
  [4;35;1mBudget Load (0.6ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;36;1mBucket Load (2.7ms)[0m   [0;1mSELECT * FROM "buckets" WHERE ("buckets".user_id = 2) [0m
  [4;35;1mBudget Load (0.7ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) [0m
Rendering template within layouts/application
Rendering budgets/index
Completed in 50776ms (View: 9, DB: 8) | 200 OK [http://localhost/budgets]


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:46:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:46:38', "last_request_at" = '2010-04-10 12:46:38' WHERE "id" = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:7:in `index'

Rendered rescues/_trace (268.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:46:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (2.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 12:46:57', "last_request_at" = '2010-04-10 12:46:57' WHERE "id" = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:7:in `index'

Rendered rescues/_trace (163.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:47:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:47:20', "last_request_at" = '2010-04-10 12:47:20' WHERE "id" = 2[0m
  [4;36;1mBudget Load (0.4ms)[0m   [0;1mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:7:in `index'

Rendered rescues/_trace (137.9ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:48:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:48:24', "last_request_at" = '2010-04-10 12:48:24' WHERE "id" = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m
  [4;35;1mBudget Load (0.8ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:7:in `index'

Rendered rescues/_trace (309.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:50:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:50:04', "last_request_at" = '2010-04-10 12:50:04' WHERE "id" = 2[0m
  [4;36;1mBudget Load (0.5ms)[0m   [0;1mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m

NoMethodError (undefined method `lenght' for []:Array):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (89.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:50:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 12:50:23', "last_request_at" = '2010-04-10 12:50:23' WHERE "id" = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "*": syntax error: SELECT count("budgets".*) AS count_budgets_all FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) AND (("buckets".user_id = 2))) ):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (116.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:51:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (1.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-04-10 12:51:21', "last_request_at" = '2010-04-10 12:51:21' WHERE "id" = 2[0m
  [4;36;1mBudget Load (0.6ms)[0m   [0;1mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m

NoMethodError (undefined method `lenght' for []:Array):
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  (__DELEGATION__):2:in `__send__'
  (__DELEGATION__):2:in `with_scope'
  app/controllers/budgets_controller.rb:6:in `index'

Rendered rescues/_trace (219.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing BudgetsController#index (for 127.0.0.1 at 2010-04-10 15:51:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"budgets"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-04-10 12:51:29', "last_request_at" = '2010-04-10 12:51:29' WHERE "id" = 2[0m
  [4;35;1mBudget Load (0.3ms)[0m   [0mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) AND ((budgets.valid_from >= '2010-04-01' AND budgets.valid_to <= '2010-04-30') AND (("buckets".user_id = 2))) [0m
  [4;36;1mBucket Load (0.8ms)[0m   [0;1mSELECT * FROM "buckets" WHERE ("buckets".user_id = 2) [0m
  [4;35;1mBudget Create (0.5ms)[0m   [0mINSERT INTO "budgets" ("valid_to", "created_at", "bucket_id", "updated_at", "amount", "valid_from") VALUES('2010-04-30', '2010-04-10 12:51:29', 1, '2010-04-10 12:51:29', NULL, '2010-04-01')[0m
  [4;36;1mBudget Create (0.4ms)[0m   [0;1mINSERT INTO "budgets" ("valid_to", "created_at", "bucket_id", "updated_at", "amount", "valid_from") VALUES('2010-04-30', '2010-04-10 12:51:29', 2, '2010-04-10 12:51:29', NULL, '2010-04-01')[0m
  [4;35;1mBudget Create (0.4ms)[0m   [0mINSERT INTO "budgets" ("valid_to", "created_at", "bucket_id", "updated_at", "amount", "valid_from") VALUES('2010-04-30', '2010-04-10 12:51:29', 3, '2010-04-10 12:51:29', NULL, '2010-04-01')[0m
  [4;36;1mBudget Create (0.5ms)[0m   [0;1mINSERT INTO "budgets" ("valid_to", "created_at", "bucket_id", "updated_at", "amount", "valid_from") VALUES('2010-04-30', '2010-04-10 12:51:29', 4, '2010-04-10 12:51:29', NULL, '2010-04-01')[0m
  [4;35;1mBudget Create (0.4ms)[0m   [0mINSERT INTO "budgets" ("valid_to", "created_at", "bucket_id", "updated_at", "amount", "valid_from") VALUES('2010-04-30', '2010-04-10 12:51:29', 5, '2010-04-10 12:51:29', NULL, '2010-04-01')[0m
Rendering template within layouts/application
Rendering budgets/index
  [4;36;1mBudget Load (0.8ms)[0m   [0;1mSELECT "budgets".* FROM "budgets" INNER JOIN "buckets" ON "budgets".bucket_id = "buckets".id WHERE (("buckets".user_id = 2)) [0m
Completed in 116ms (View: 10, DB: 6) | 200 OK [http://localhost/budgets]
